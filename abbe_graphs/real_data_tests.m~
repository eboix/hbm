import block_model.classifiers.*;

classifiers = ...
        {
%         {@sdp_classifier, 'sdp'}, ...
%         {@adj_classifier, 'adj'}, ...
%         {@lap_classifier, 'lap'}, ...
%         {@sym_norm_lap_classifier, 'normlap'}, ...
%         {@nb_classifier, 'nb'}, ...
%         {@pow_adj_classifier, 'graphpow (adj)'}, ...
% {@pow_adj_classifier, 'graphpow (adj) 2 0.15', 'clean_c',2,'pow_c',0.15},... 
%      {@pow_adj_classifier, 'graphpow (adj) 2 0.3','clean_c',2,'pow_c',0.3}, ...
%      {@pow_adj_classifier, 'graphpow (adj) 2 0.5', 'clean_c',2,'pow_c',0.5}, ...
%      {@pow_adj_classifier, 'graphpow (adj) 2 1','clean_c',2,'pow_c',1}, ...
%      {@pow_adj_classifier, 'graphpow (adj) 2 2','clean_c',2,'pow_c',2}, ...
%      ...
%      {@pow_lap_classifier, 'graphpow (lap) 2 0.15', 'clean_c',2,'pow_c',0.15},... 
%      {@pow_lap_classifier, 'graphpow (lap) 2 0.3','clean_c',2,'pow_c',0.3}, ...
%      {@pow_lap_classifier, 'graphpow (lap) 2 0.5', 'clean_c',2,'pow_c',0.5}, ...
%      {@pow_lap_classifier, 'graphpow (lap) 2 1','clean_c',2,'pow_c',1}, ...
%      {@pow_lap_classifier, 'graphpow (lap) 2 2','clean_c',2,'pow_c',2}, ...
%      ...
%      {@pow_sym_norm_lap_classifier, 'graphpow (norm lap) 2 0.15', 'clean_c',2,'pow_c',0.15},... 
%      {@pow_sym_norm_lap_classifier, 'graphpow (norm lap) 2 0.3','clean_c',2,'pow_c',0.3}, ...
%      {@pow_sym_norm_lap_classifier, 'graphpow (norm lap) 2 0.5', 'clean_c',2,'pow_c',0.5}, ...
%      {@pow_sym_norm_lap_classifier, 'graphpow (norm lap) 2 1','clean_c',2,'pow_c',1}, ...
%      {@pow_sym_norm_lap_classifier, 'graphpow (norm lap) 2 2','clean_c',2,'pow_c',2}, ...
%      ...
%      {@pow_randwalk_classifier, 'graphpow (randwalk) 2 0.15', 'clean_c',2,'pow_c',0.15},... 
%      {@pow_randwalk_classifier, 'graphpow (randwalk) 2 0.3','clean_c',2,'pow_c',0.3}, ...
%      {@pow_randwalk_classifier, 'graphpow (randwalk) 2 0.5', 'clean_c',2,'pow_c',0.5}, ...
%      {@pow_randwalk_classifier, 'graphpow (randwalk) 2 1','clean_c',2,'pow_c',1}, ...
%      {@pow_randwalk_classifier, 'graphpow (randwalk) 2 2','clean_c',2,'pow_c',2}, ...
%      ...
%      {@pow_nb_classifier, 'graphpow (nb) 2 0.15', 'clean_c',2,'pow_c',0.15},... 
%      {@pow_nb_classifier, 'graphpow (nb) 2 0.3','clean_c',2,'pow_c',0.3}, ...
%      {@pow_nb_classifier, 'graphpow (nb) 2 0.5', 'clean_c',2,'pow_c',0.5}, ...
%      {@pow_nb_classifier, 'graphpow (nb) 2 1','clean_c',2,'pow_c',1}, ...
%      {@pow_nb_classifier, 'graphpow (nb) 2 2','clean_c',2,'pow_c',2}, ...
%      {@pow_adj_classifier, 'pow (adj) none 0','no_clean',true,'pow_c',0},... 
%      {@pow_adj_classifier, 'pow (adj) none 0.15','no_clean',true,'pow_c',0.15},... 
%      {@pow_adj_classifier, 'pow (adj) none 0.3','no_clean',true,'pow_c',0.3}, ...
%      {@pow_adj_classifier, 'pow (adj) none 0.5','no_clean',true,'pow_c',0.5}, ...
%      {@pow_adj_classifier, 'pow (adj) none 1','no_clean',true,'pow_c',1}, ...
%      {@pow_adj_classifier, 'pow (adj) none 2','no_clean',true,'pow_c',2}, ...
%       ...
%      {@pow_lap_classifier, 'pow (lap) none 0', 'no_clean',true,'pow_c',0},... 
%      {@pow_lap_classifier, 'pow (lap) none 0.15','no_clean',true,'pow_c',0.15},... 
%      {@pow_lap_classifier, 'pow (lap) none 0.3','no_clean',true,'pow_c',0.3}, ...
%      {@pow_lap_classifier, 'pow (lap) none 0.5','no_clean',true,'pow_c',0.5}, ...
%      {@pow_lap_classifier, 'pow (lap) none 1','no_clean',true,'pow_c',1}, ...
%      {@pow_lap_classifier, 'pow (lap) none 2','no_clean',true,'pow_c',2}, ...
%      {@pow_lap_classifier, 'lap (no clean)', 'no_clean',true,'pow_c',0},... 
%      {@pow_lap_classifier, 'lap (clean 1)','clean_c',1,'pow_c',0},... 
%      {@pow_lap_classifier, 'lap (clean 2)','clean_c',2,'pow_c',0},... 
%      {@pow_lap_classifier, 'lap (clean 3)','clean_c',3,'pow_c',0},...
     ...
%     {@pow_nb_classifier, 'nb (no clean)', 'no_clean',true,'pow_c',0},... 
%     {@pow_nb_classifier, 'nb (clean 1)','clean_c',1,'pow_c',0},... 
%      {@pow_nb_classifier, 'nb (clean 2)','clean_c',2,'pow_c',0},... 
%      {@pow_nb_classifier, 'nb (clean 3)','clean_c',3,'pow_c',0},...
        {@pow_sym_norm_adj_classifier, 'normadj (no clean, pow 0.15)','no_clean','true','pow_c',0.15},...
        {@pow_sym_norm_adj_classifier, 'normadj (1 clean, pow 0.15)','clean_c',1,'pow_c',0.15},...
        {@pow_sym_norm_adj_classifier, 'normadj (1 clean, no pow)','clean_c',1,'pow_c',0},...
     ...
%      {@pow_sym_norm_lap_classifier, 'normlap (no clean)', 'no_clean',true,'pow_c',0},... 
%      {@pow_sym_norm_lap_classifier, 'normlap (clean 1)','clean_c',1,'pow_c',0},... 
%      {@pow_sym_norm_lap_classifier, 'normlap (clean 2)','clean_c',2,'pow_c',0},... 
%      {@pow_sym_norm_lap_classifier, 'normlap (clean 3)','clean_c',3,'pow_c',0},... 
        };

realdatas = {@read_polblogs_graph,'polblogs'};
agree_table = table({},{},{});
agree_table.Properties.VariableNames {'DataSet','Classifier','Agreement','

for datai = 1:length(realdatas)
    data_cell = realdatas{datai};
    data_load = data_cell{1};
    data_name = data_cell{2};
    
    [community,A] = data_load();
    
    for classi = 1:length(classifiers)
        class_cell = classifiers{classi};
        class_func = class_cell{1};
        class_name = class_cell{2};
        
        class_guess = class_func(A,data_cell{3:end},class_cell{3:end});
        agreement = get_real_data_agreement(community,class_guess,2);
        